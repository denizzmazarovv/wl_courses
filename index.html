<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Курсы - Web Lezen</title>
<meta name="description" content="Онлайн‑курсы с практикой, наставниками и сертификатом." />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0b1020; --card:#111733; --muted:#9aa3b2; --text:#e7ecf5; --brand:#4da3ff; --accent:#6cf3d6; --warn:#ffd34d;
    --radius:14px; --shadow: 0 10px 30px rgba(0,0,0,.25);
  }
  *{box-sizing:border-box}
  html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;scroll-behavior:smooth}
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  .container{max-width:1200px;margin:0 auto;padding:0 16px}
  header{position:sticky;top:0;z-index:60;background:rgba(11,16,32,.7);backdrop-filter:saturate(160%) blur(10px);border-bottom:1px solid rgba(255,255,255,.07)}
  .nav{display:flex;align-items:center;gap:16px;justify-content:space-between;padding:12px 0}
  .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.2px}
  .brand img{width:36px;height:36px;border-radius:8px;object-fit:cover}
  .nav-links{display:flex;gap:16px;flex-wrap:wrap}
  .nav a{opacity:.9}
  .nav a:hover{opacity:1}
  .lang{display:flex;gap:8px;align-items:center}
  .lang button{background:transparent;border:1px solid rgba(255,255,255,.15);border-radius:999px;padding:6px 10px;color:var(--text);cursor:pointer}
  .lang button.active{border-color:var(--brand);box-shadow:0 0 0 2px rgba(77,163,255,.2) inset}
  .btn{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(135deg,var(--brand),var(--accent));color:#071225;padding:12px 18px;border-radius:999px;font-weight:700;border:none;cursor:pointer}
  .btn-outline{background:transparent;border:1px solid rgba(255,255,255,.2);color:var(--text)}
  /* burger */
  .burger{display:none;width:44px;height:44px;border-radius:10px;border:1px solid rgba(255,255,255,.15);background:transparent;position:relative}
  .burger span{position:absolute;left:10px;right:10px;height:2px;background:#fff;border-radius:2px;transition:.3s}
  .burger span:nth-child(1){top:14px}
  .burger span:nth-child(2){top:21px}
  .burger span:nth-child(3){top:28px}
  .burger.open span:nth-child(1){transform:translateY(7px) rotate(45deg)}
  .burger.open span:nth-child(2){opacity:0}
  .burger.open span:nth-child(3){transform:translateY(-7px) rotate(-45deg)}
  .mobile-menu{display:none;position:absolute;left:0;right:0;top:100%;background:rgba(11,16,32,.98);border-bottom:1px solid rgba(255,255,255,.07)}
  .mobile-menu.open{display:block}
  .mobile-menu a{display:block;padding:14px 16px;border-top:1px solid rgba(255,255,255,.06)}
  /* HERO CAROUSEL */
  .hero{position:relative;overflow:hidden;border-bottom:1px solid rgba(255,255,255,.06)}
  .slides{display:flex;transition:transform .6s cubic-bezier(.2,.7,.2,1);touch-action:pan-y}
  .slide{min-width:100%;display:grid;grid-template-columns:1.1fr 0.9fr;gap:24px;align-items:center;padding:48px 0}
  .slide .text h1{font-size:clamp(28px,6vw,54px);line-height:1.05;margin:0 0 12px}
  .slide .text p{color:var(--muted);font-size:clamp(14px,2.2vw,18px)}
  .slide .actions{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
  .slide .image{border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);border:1px solid rgba(255,255,255,.07)}
  .dots{position:absolute;left:50%;transform:translateX(-50%);bottom:12px;display:flex;gap:8px}
  .dot{width:8px;height:8px;border-radius:999px;background:rgba(255,255,255,.25);cursor:pointer}
  .dot.active{background:linear-gradient(135deg,var(--brand),var(--accent))}
  /* SECTIONS */
  section{padding:56px 0;border-bottom:1px solid rgba(255,255,255,.06)}
  .grid{display:grid;gap:16px}
  .grid.cols-3{grid-template-columns:repeat(3,1fr)}
  .grid.cols-4{grid-template-columns:repeat(4,1fr)}
  .card{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));border:1px solid rgba(255,255,255,.07);
    border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
  .card h3{margin:4px 0 8px;font-size:18px}
  .muted{color:var(--muted)}
  /* PRICING PATH */
  .plan-path{margin:10px 0;padding:10px;border-radius:10px;background:rgba(255,255,255,.03);border:1px dashed rgba(255,255,255,.12)}
  .plan-path li{margin:6px 0}
  /* TESTIMONIALS MARQUEE */
  .marquee-wrap{overflow:hidden}
  .marquee{display:flex;gap:16px;will-change:transform;animation:scrollLeft 30s linear infinite}
  .marquee:hover{animation-play-state:paused}
  @keyframes scrollLeft { from{transform:translateX(0)} to{transform:translateX(-50%)} }
  .testimonial{min-width:360px;max-width:360px;background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
    border:1px solid rgba(255,255,255,.07);border-radius:16px;padding:16px}
  .testimonial .user{display:flex;align-items:center;gap:12px;margin-bottom:12px}
  .avatar{width:40px;height:40px;border-radius:50%;object-fit:cover;border:1px solid rgba(255,255,255,.15)}
  /* FAQ */
  .faq-item{border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:14px;background:rgba(255,255,255,.02)}
  .faq-q{display:flex;justify-content:space-between;align-items:center;cursor:pointer}
  .faq-a{max-height:0;overflow:hidden;transition:max-height .35s ease,color .2s ease}
  .faq-item.open .faq-a{max-height:240px;margin-top:8px}
  /* REVEAL */
  .reveal{opacity:0;transform:translateY(16px);transition:all .6s cubic-bezier(.2,.7,.2,1)}
  .reveal.in{opacity:1;transform:none}
  /* MODAL FORM */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgb(0, 0, 0);z-index:70;padding:16px}
  .modal.open{display:flex}
  .modal .box{max-width:720px;width:100%;background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.15);border-radius:16px;box-shadow:var(--shadow);padding:18px}
  .modal .box h3{margin:0 0 8px}
  .close-x{background:transparent;border:none;color:var(--text);font-size:24px;cursor:pointer}
  .form-grid{display:grid;gap:10px;grid-template-columns:1fr 1fr}
  .form-grid .full{grid-column:1 / -1}
  input,select,textarea{width:100%;padding:12px;border-radius:10px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);color:var(--text)}
  textarea{min-height:100px;resize:vertical}
  .policy{font-size:12px;color:var(--muted)}
  /* FOOTER */
  footer{padding:30px 0;color:var(--muted)}
  /* RESPONSIVE */
  @media (max-width:980px){
    .slide{grid-template-columns:1fr;gap:16px}
    .grid.cols-3{grid-template-columns:1fr 1fr}
    .grid.cols-4{grid-template-columns:1fr 1fr}
    .testimonial{min-width:280px;max-width:280px}
    .nav-links{display:none}
    .burger{display:inline-block}
  }
  @media (max-width:640px){
    .grid.cols-3,.grid.cols-4{grid-template-columns:1fr}
    .form-grid{grid-template-columns:1fr}
  }
</style>
</head>
<body>
<header>
  <div class="container nav">
    <div class="brand"><img id="brandLogo" alt=""><span id="brandName"></span></div>
    <nav class="nav-links" id="navLinks"></nav>
    <button class="burger" id="burger" aria-label="Menu"><span></span><span></span><span></span></button>
    <div class="lang" id="langSwitcher">
      <button data-lang="ru">RU</button>
      <button data-lang="uz">UZ</button>
      <button data-lang="en" class="active">EN</button>
    </div>
  </div>
  <div class="mobile-menu" id="mobileMenu"></div>
</header>

<main id="app">
  <!-- HERO -->
  <section class="hero container">
    <div class="slides" id="slides"></div>
    <div class="dots" id="dots"></div>
  </section>

  <!-- FEATURES -->
  <section id="features">
    <div class="container">
      <h2 class="reveal" id="featuresTitle">Features</h2>
      <p class="muted reveal" id="featuresSubtitle"></p>
      <div class="grid cols-3" id="featuresGrid"></div>
    </div>
  </section>

  <!-- COURSES -->
  <section id="courses">
    <div class="container">
      <h2 class="reveal" id="coursesTitle">Courses</h2>
      <p class="muted reveal" id="coursesSubtitle"></p>
      <div class="grid cols-3" id="coursesGrid"></div>
    </div>
  </section>

  <!-- INSTRUCTORS -->
  <section id="instructors">
    <div class="container">
      <h2 class="reveal" id="instructorsTitle">Instructors</h2>
      <div class="grid cols-4" id="instructorsGrid"></div>
    </div>
  </section>

  <!-- PRICING -->
  <section id="pricing">
    <div class="container">
      <h2 class="reveal" id="pricingTitle">Pricing</h2>
      <div class="grid cols-3" id="pricingGrid"></div>
    </div>
  </section>

  <!-- TESTIMONIALS (infinite left scroll) -->
  <section id="testimonials">
    <div class="container">
      <h2 class="reveal" id="testimonialsTitle">Отзывы</h2>
    </div>
    <div class="marquee-wrap">
      <div class="marquee" id="marquee"></div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq">
    <div class="container">
      <h2 class="reveal" id="faqTitle">FAQ</h2>
      <div class="grid" id="faqGrid"></div>
    </div>
  </section>

  <!-- CTA -->
  <section id="cta">
    <div class="container card reveal" style="display:grid;gap:12px;text-align:center">
      <h2 id="ctaTitle">Готовы начать?</h2>
      <p class="muted" id="ctaSubtitle"></p>
      <div><a id="ctaBtn" class="btn"></a></div>
    </div>
  </section>
</main>

<footer>
  <div class="container" id="footer"></div>
</footer>

<!-- MODAL: APPLICATION FORM -->
<div class="modal" id="applyModal" aria-hidden="true">
  <div class="box">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <h3 id="formTitle">Заявка</h3>
      <button class="close-x" id="formClose" aria-label="Close">×</button>
    </div>
    <p class="muted" id="formSubtitle"></p>
    <form id="applyForm" class="form-grid">
      <input type="hidden" id="fPlan" name="plan">
      <div>
        <label for="fName" id="lblName">Имя</label>
        <input id="fName" name="name" required placeholder="">
      </div>
      <div>
        <label for="fPhone" id="lblPhone">Телефон</label>
        <input id="fPhone" name="phone" required placeholder="">
      </div>
      <div>
        <label for="fEmail" id="lblEmail">Email</label>
        <input id="fEmail" type="email" name="email" placeholder="">
      </div>
      <div>
        <label for="fContact" id="lblContact">Предпочтительный контакт</label>
        <select id="fContact" name="contact">
          <option value="telegram">Telegram</option>
          <option value="phone">Phone</option>
          <option value="email">Email</option>
        </select>
      </div>
      <div class="full">
        <label for="fMsg" id="lblMsg">Сообщение</label>
        <textarea id="fMsg" name="message" placeholder=""></textarea>
      </div>
      <div class="row full" style="align-items:center;gap:8px">
        <input type="checkbox" id="fAgree" required>
        <label for="fAgree" id="lblPolicy" class="policy"></label>
      </div>
      <div class="full" style="display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn" type="submit" id="btnSubmit">Отправить</button>
        <a class="btn btn-outline" id="btnTelegram" target="_blank" rel="noopener">Telegram</a>
        <a class="btn btn-outline" id="btnInstagram" target="_blank" rel="noopener">Instagram</a>
      </div>
      <div class="full muted" id="formNote" style="margin-top:6px"></div>
    </form>
  </div>
</div>

<script>
const $ = s => document.querySelector(s);
const $$ = s => document.querySelectorAll(s);

let LANG = localStorage.getItem('lang') || 'ru';
const setLangUI = () => {
  $$('#langSwitcher button').forEach(b=>{
    b.classList.toggle('active', b.dataset.lang===LANG);
  });
  document.documentElement.lang = LANG;
};

const t = obj => (obj && obj[LANG]) ? obj[LANG] : '';
const money = (n,c='USD') => new Intl.NumberFormat(undefined,{style:'currency',currency:c}).format(n);

const state = { data:null, currentSlide:0, slideTimer:null, startX:0, deltaX:0 };

async function load(){
  const res = await fetch('data.json?'+Date.now());
  state.data = await res.json();
  setLangUI();
  renderAll();
}
function setLang(l){ LANG=l; localStorage.setItem('lang',l); setLangUI(); renderAll(); }
$('#langSwitcher').addEventListener('click', e=>{
  if(e.target.matches('button[data-lang]')) setLang(e.target.dataset.lang);
});

/* burger */
const burger = $('#burger');
const mobileMenu = $('#mobileMenu');
burger.addEventListener('click', ()=>{
  burger.classList.toggle('open');
  mobileMenu.classList.toggle('open');
});

/* RENDER */
function renderAll(){
  const d = state.data; if(!d) return;

  // brand + nav
  $('#brandLogo').src = d.site.brand.logo || '';
  $('#brandLogo').alt = t(d.site.brand.name);
  $('#brandName').textContent = t(d.site.brand.name);

  const nav = d.site.nav;
  const navHTML = nav.map(n=>`<a href="${n.href}" target="${n.external?'_blank':''}">${t(n.label)}${n.icon?` ${n.icon}`:''}</a>`).join('');
  $('#navLinks').innerHTML = navHTML;
  mobileMenu.innerHTML = navHTML;

  // HERO
  const slides = d.hero.slides;
  const slidesWrap = $('#slides');
  slidesWrap.innerHTML = slides.map(s=>`
    <div class="slide">
      <div class="text reveal">
        <h1>${t(s.title)}</h1>
        <p>${t(s.subtitle)}</p>
        <div class="actions">
          <a class="btn" href="${s.ctaLink||'#pricing'}">${t(s.ctaText)}</a>
          <a class="btn btn-outline" href="${s.secondaryLink||'#courses'}">${t(s.secondaryText||{ru:'Подробнее',uz:'Batafsil',en:'Learn more'})}</a>
        </div>
      </div>
      <div class="image reveal"><img loading="lazy" src="${s.image}" alt=""></div>
    </div>
  `).join('');
  // dots
  const dots = $('#dots');
  dots.innerHTML = slides.map((_,i)=>`<div class="dot ${i===state.currentSlide?'active':''}" data-i="${i}"></div>`).join('');
  dots.onclick = e=>{
    if(e.target.classList.contains('dot')) goSlide(+e.target.dataset.i);
  }
  initCarousel();

  // FEATURES
  $('#featuresTitle').textContent = t(d.features.title);
  $('#featuresSubtitle').textContent = t(d.features.subtitle);
  $('#featuresGrid').innerHTML = d.features.items.map(f=>`
    <div class="card reveal">
      <h3>${t(f.title)}</h3>
      <p class="muted">${t(f.text)}</p>
    </div>`).join('');

  // COURSES
  $('#coursesTitle').textContent = t(d.courses.title);
  $('#coursesSubtitle').textContent = t(d.courses.subtitle);
  $('#coursesGrid').innerHTML = d.courses.items.map(c=>`
    <div class="card reveal">
      <img src="${c.image}" alt="" style="border-radius:10px;margin-bottom:10px">
      <h3>${t(c.title)}</h3>
      <p class="muted">${t(c.desc)}</p>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:10px">
        <strong>${money(c.price.usd,'USD')}</strong>
        <a class="btn" href="${c.link||'#'}">${t(d.common.buyNow)}</a>
      </div>
    </div>`).join('');

  // INSTRUCTORS
  $('#instructorsTitle').textContent = t(d.instructors.title);
  $('#instructorsGrid').innerHTML = d.instructors.items.map(p=>`
    <div class="card reveal" style="text-align:center">
      <img src="${p.photo}" alt="" style="width:100%;height:220px;object-fit:cover;border-radius:10px">
      <h3 style="margin-top:10px">${p.name}</h3>
      <p class="muted">${t(p.title)}</p>
    </div>`).join('');

  // PRICING (with PATH + apply form button)
  $('#pricingTitle').textContent = t(d.pricing.title);
  $('#pricingGrid').innerHTML = d.pricing.plans.map(p=>`
    <div class="card reveal">
      <h3>${t(p.name)}</h3>
      <div style="font-size:28px;font-weight:800;margin:6px 0">${money(p.price.usd,'USD')} <span class="muted" style="font-size:12px">${t(p.per)}</span></div>
      <ul class="muted" style="padding-left:18px;margin:10px 0">${p.features.map(f=>`<li>${t(f)}</li>`).join('')}</ul>
      <div class="plan-path">
        <strong>${t(d.pricing.pathTitle)}</strong>
        <ol class="muted" style="padding-left:18px;margin:8px 0">
          ${ (p.path||[]).map(step=>`<li>${t(step)}</li>`).join('') }
        </ol>
      </div>
      <button class="btn" onclick="openForm('${t(p.name)}')">${t(p.ctaText || d.common.applyNow)}</button>
    </div>`).join('');

  // TESTIMONIALS
  $('#testimonialsTitle').textContent = t(d.testimonials.title);
  const marq = $('#marquee');
  const items = d.testimonials.items.map(buildTestimonial).join('');
  marq.innerHTML = items + items; // seamless

  // FAQ
  $('#faqTitle').textContent = 'FAQ';
  $('#faqGrid').innerHTML = d.faq.items.map((qa,i)=>`
    <div class="faq-item reveal">
      <div class="faq-q">
        <strong>${t(qa.q)}</strong>
        <span>+</span>
      </div>
      <div class="faq-a"><p class="muted">${t(qa.a)}</p></div>
    </div>`).join('');
  $$('#faq .faq-item').forEach(it=>{
    it.querySelector('.faq-q').onclick = ()=> it.classList.toggle('open');
  });

  // CTA
  $('#ctaTitle').textContent = t(d.cta.title);
  $('#ctaSubtitle').textContent = t(d.cta.subtitle);
  const ctaBtn = $('#ctaBtn');
  ctaBtn.textContent = t(d.cta.buttonText);
  ctaBtn.href = d.cta.buttonLink || '#';

  // FOOTER
  $('#footer').innerHTML = `
    <div class="container" style="display:flex;gap:16px;flex-wrap:wrap;justify-content:space-between;align-items:center">
      <div>${t(d.footer.copyright)}</div>
      <div style="display:flex;gap:12px">${d.footer.links.map(l=>`<a href="${l.href}" target="${l.external?'_blank':''}">${t(l.label)}</a>`).join('')}</div>
    </div>`;

  // reveal animations
  observeReveal();

  // preload form buttons links
  $('#btnTelegram').href = d.site.contacts.telegram || '#';
  $('#btnInstagram').href = d.site.contacts.instagram || '#';
}

/* Modal Apply Form */
function openForm(planName=''){
  const d = state.data, f=d.form;
  $('#applyModal').classList.add('open');
  $('#applyModal').setAttribute('aria-hidden','false');
  $('#fPlan').value = planName;
  $('#formTitle').textContent = t(f.title) + (planName ? ` — ${planName}` : '');
  $('#formSubtitle').textContent = t(f.subtitle);
  $('#lblName').textContent = t(f.labels.name);
  $('#lblPhone').textContent = t(f.labels.phone);
  $('#lblEmail').textContent = t(f.labels.email);
  $('#lblContact').textContent = t(f.labels.contact);
  $('#lblMsg').textContent = t(f.labels.message);
  $('#lblPolicy').innerHTML = t(f.policy);
  $('#btnSubmit').textContent = t(f.submit);
  $('#formNote').textContent = t(f.note||{ru:'',uz:'',en:''});
  $('#fName').placeholder = t(f.placeholders.name);
  $('#fPhone').placeholder = t(f.placeholders.phone);
  $('#fEmail').placeholder = t(f.placeholders.email);
  $('#fMsg').placeholder = t(f.placeholders.message);
}
$('#formClose').addEventListener('click', closeForm);
$('#applyModal').addEventListener('click', e=>{ if(e.target.id==='applyModal') closeForm(); });
function closeForm(){
  $('#applyModal').classList.remove('open');
  $('#applyModal').setAttribute('aria-hidden','true');
}

/* Form submission via mailto */
$('#applyForm').addEventListener('submit', e=>{
  e.preventDefault();
  const d = state.data;
  const rec = d.site.contacts.email || '';
  const f = Object.fromEntries(new FormData(e.target).entries());
  const subject = encodeURIComponent(`[${t(d.site.brand.name)}] ${t(d.form.mail.subject)}: ${f.plan||''}`);
  const body = encodeURIComponent(
    `${t(d.form.mail.plan)}: ${f.plan||''}\n${t(d.form.labels.name)}: ${f.name}\n${t(d.form.labels.phone)}: ${f.phone}\nEmail: ${f.email||'-'}\n${t(d.form.labels.contact)}: ${f.contact}\n${t(d.form.labels.message)}:\n${f.message||'-'}`
  );
  if(rec){
    window.location.href = `mailto:${rec}?subject=${subject}&body=${body}`;
  } else {
    alert(t(d.form.mail.fallback));
  }
  closeForm();
});

function buildTestimonial(ti){
  return `<div class="testimonial">
    <div class="user">
      <img class="avatar" src="${ti.avatar}" alt="">
      <div><strong>${ti.name}</strong><div class="muted">${ti.role||''}</div></div>
    </div>
    <div class="muted">“${t(ti.text)}”</div>
  </div>`;
}

/* Carousel logic with swipe */
function initCarousel(){
  const wrap = $('#slides');
  const total = state.data.hero.slides.length;
  const apply = ()=> wrap.style.transform = `translateX(-${state.currentSlide*100}%)`;
  const next = ()=>{ state.currentSlide = (state.currentSlide+1)%total; apply(); updateDots(); }
  const prev = ()=>{ state.currentSlide = (state.currentSlide-1+total)%total; apply(); updateDots(); }
  function updateDots(){
    $$('#dots .dot').forEach((d,i)=>d.classList.toggle('active', i===state.currentSlide));
  }
  clearInterval(state.slideTimer);
  state.slideTimer=setInterval(next,5000);
  wrap.onpointerdown = e=>{
    state.startX=e.clientX; state.deltaX=0; wrap.setPointerCapture(e.pointerId); clearInterval(state.slideTimer);
  };
  wrap.onpointermove = e=>{
    if(!state.startX) return;
    state.deltaX = e.clientX - state.startX;
    wrap.style.transform = `translateX(calc(-${state.currentSlide*100}% + ${state.deltaX}px))`;
  };
  const end = ()=>{
    if(!state.startX) return;
    if(state.deltaX<-80) next(); else if(state.deltaX>80) prev(); else apply();
    state.startX=0; state.deltaX=0; state.slideTimer=setInterval(next,5000);
  };
  wrap.onpointerup = end; wrap.onpointercancel=end; wrap.onpointerleave=end;
}

/* Reveal on view */
function observeReveal(){
  const io = new IntersectionObserver(es=>{
    es.forEach(e=>{
      if(e.isIntersecting){ e.target.classList.add('in'); io.unobserve(e.target); }
    })
  },{threshold:.15});
  $$('.reveal').forEach(el=>io.observe(el));
}

load();
</script>
</body>
</html>
